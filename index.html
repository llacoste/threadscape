<!DOCTYPE HTML>
<html>
	<head id="head">
		<title>ThreadScape</title>
		<meta charset="utf-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/nav.css" />
		<link rel="stylesheet" href="assets/css/nav_panel.css" />
		<link rel="stylesheet" href="assets/css/custom.css" />
		<link rel="stylesheet" href="assets/css/cropper.css">
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

		<style>
      #loading {
        position: fixed;
        width: 100%;
        height: 100%;
        background-color: #fff; /* Or any other background color */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3;
        border-top: 5px solid #3498db;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
	</head>

	<body class="is-preload">

		<div id="loading">
			<div class="spinner"></div>
		</div>

		<!-- Wrapper -->
		<div id="wrapper" class="fade-in">

			<!-- Intro -->
			<div id="intro">
				<h1>ThreadScape</h1>
				<p>A free tool for creating incredible string art.</p>
				<ul class="actions">
					<li><a href="#header"
							class="button icon solo scrolly"><i class="fa-solid fa-arrow-down fa-2x"></i></a></li>
				</ul>
			</div>

			<!-- Header -->
			<header id="header">
				<a href="index.html" class="logo">ThreadScape</a>
			</header>

			<!-- Nav -->
			<nav id="nav">
				<ul id="navbar" class="links">
					<li class="active"><a id="about" >About</a></li>
					<li><a id="image_cropper" >Image Cropper</a></li>
					<li><a id="instruction_generator" >Instruction
							Generator</a></li>
					<li><a id="base_generator" >Base
							Generator</a></li>
					<li><a id="walkthrough" >Walkthrough</a></li>
				</ul>
				<ul class="icons">
					<li><a href="https://github.com/llacoste/threadscape"
							class="icon"><i class="fa-brands fa-github-square fa-2x custom-line-height"></i></a></li>
				</ul>
			</nav>

			<!-- Main -->
			<div id="main">
				<div id="about_page" class="page-content">
					<div class="post featured">
						<header class="major">
							<h2>Let's getting threading</h2>
							<p>Transform your favorite images into stunning string art with
								ThreadScape! This tool guides you step-by-step, showing how to weave
								thread around a circular canvas of nails to bring your designs to
								life.</p>
						</header>
						
						<div class="box alt">
							<div class="row gtr-50 gtr-uniform">
								<div class="col-6"><h3>Turn this:</h3></div>
								<div class="col-6"><h3>Into this:</h3></div>
					
								<div class="col-6"><span class="image fit"><img src="images/before.png" alt="" /></span></div>
								<div class="col-6"><span class="image fit"><img src="images/after.png" alt="" /></span></div>
							</div>
						</div>
					
						<br /><br />
					
						<ul class="actions special">
							<li><a id="get_started" class="button large">Let's get started</a></li>
						</ul>
					</div>
				</div>

				<div id="image_cropper_page" class="page-content" style="display: none;">
					<div class="container">
						<div class="row">
							<div class="col-12">
								<section class="image_container">
									<img id="image_to_crop" src="images/mandala_close.jpg" alt="Image to crop"/>
								</section>
								<hr>
								<section style="margin-bottom: 25px;">
									<center>
										<button id="custom-file-button" class="button primary small"><i class="fa-solid fa-file marign_right"></i>Click to select an Image</button>
										<input class="display_none" type="file" id="upload-image" accept="image/*" />
										<button id="rotate-left" class="button small"><i class="fa-solid fa-rotate-left marign_right"></i>Rotate Left</button>
										<button id="rotate-right" class="button small"><i class="fa-solid fa-rotate-right marign_right"></i>Rotate Right</button>
										<button id="zoom-in" class="button small"><i class="fa-solid fa-magnifying-glass-plus marign_right"></i>Zoom In</button>
										<button id="zoom-out" class="button small"><i class="fa-solid fa-magnifying-glass-minus marign_right"></i>Zoom Out</button>
										<button id="crop" class="button primary small"><i class="fa-solid fa-crop marign_right"></i>Crop and Download</button>
									</center>
								</section>
							</div>
						</div>
					</div>
				</div>

				<div id="instruction_generator_page" class="page-content"
					style="display: none;">
					<div class="container">
						<div class="row">
							<div class="col-6">
								<h4 id="status" style="margin: 0px;">Please wait, generator is loading...</h4>
								<div class="row">
									<div class="col-12">
										<div id="step1" class="center hidden">
											<div class="caption">Original Image:</div>
											<img class="centerImage" style="margin-top: 10px;" id="source_image" alt="No Image" />
										</div>
										<div id="step2" class="center hidden">
											<div class="caption">Cropped and Grayscaled:</div>
											<canvas class="centerCanvasMedium" id="original_img_preview" ></canvas>
										</div>
										<div id="step3" class="center hidden">
											<div id="draw_status"></div>
											<center>
													<canvas class="centerCanvasMedium" id="string_art_canvas" ></canvas>
											</center>
										</div>
										<div id="step4" class="center hidden">
											<h4>Output</h4>
											<ul class="actions fit">
												<li><a id="download_processed_image" class="button fit">Download Processed Image</a></li>
												<li><a id="download_instructions" class="button fit">Download Instructions</a></li>
											</ul>
										</div>
									</div>
								</div>
							</div>
							<div class="col-6">
								<section class="file-section" style="margin-bottom: 25px;">
									<button id="input-file-button" class="button large">Click to select an Image</button>
									<input class="display_none" type="file" id="image_input" accept="image/*" />
								</section>
								<section>
									<h3>Parameters</h3>
									<div class="row not_yet_implemented">
										<div class="col-4">
											Shape
										</div>
										<div class="col-8">
											<ul id="instruction_shape_selection" class="actions small">
												<li><a class="button primary small">Circle</a></li>
												<li><a class="button small">Square</a></li>
											</ul>
										</div>
									</div>
									<div class="row not_yet_implemented">
										<div class="col-4">
											Quality
										</div>
										<div class="col-8">
											<ul id="instruction_quality_selection" class="actions small">
												<li><a class="button primary small">Low</a></li>
												<li><a class="button small">Medium</a></li>
												<li><a class="button small">High</a></li>
											</ul>
										</div>
									</div>
									<div class="row not_yet_implemented">
										<div class="col-4">
											Mode
										</div>
										<div class="col-8">
											<ul id="instruction_mode_selection" class="actions small">
												<li><a  class="button primary small">Monochrome</a></li>
												<li><a  class="button small">Color</a></li>
											</ul>
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											<p class="tooltip">
												Diameter (Inches)
												<span class="tooltip-text">The diameter of the base.</span>
											</p>
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="instruction_diameter_slider" min="12" max="48" value="24">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_diameter_slider_value" value="24">
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											<p class="tooltip">
												Peg Count
												<span class="tooltip-text">The number of pegs on the base.</span>
											</p>
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="instruction_pegs_slider" min="150" max="1200" value="360">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_pegs_slider_value" value="360">
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											<p class="tooltip">
												Line Count
												<span class="tooltip-text">The number of lines that makes up the image.</span>
											</p>
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="instruction_segments_slider" min="0" max="10000" value="1500">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_segments_slider_value" value="1500">
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											<p class="tooltip">
												Line Weight
												<span class="tooltip-text">Adjusting this affects of lines are selected while processing. You can think of this as contrast.</span>
											</p>
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="instruction_weight_slider" min="1" max="100" value="50">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_weight_slider_value" value="50">
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											<p class="tooltip">
												Minimum Peg Distance
												<span class="tooltip-text">This adjusts the minimum distance two pegs must be from one another when selecting lines.</span>
											</p>
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="instruction_minimum_peg_distance_slider" min="1" max="100" value="20">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_minimum_peg_distance_slider_value" value="20">
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											<p class="tooltip">
												Scale
												<span class="tooltip-text">This adjusts the quality of the rendered preview image. A higher value yields a better image; however, this will dramatically increase resource usage.</span>
											</p>
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="instruction_scale_slider" min="1" max="100" value="20">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_scale_slider_value" value="20">
										</div>
									</div>
									<div class="row not_yet_implemented">
										<div class="col-2">
											Opacity
										</div>
										<div class="col-7">
											<input type="range" id="instruction_opacity_slider" min="1" max="5" value="2">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_opacity_slider_value" value="2">
										</div>
									</div>
									<div class="row not_yet_implemented">
										<div class="col-2">
											Thickness
										</div>
										<div class="col-7">
											<input type="range" id="instruction_thickness_slider" min="25" max="100" value="50">
										</div>
										<div class="col-3">
											<input type="text" id="instruction_thickness_slider_value" value="50">
										</div>
									</div>
								</section>
							</div>
						</div>
					</div>
				</div>

				<div id="base_generator_page" class="page-content" style="display: none;">
					<div class="container">
						<div class="row">
							<div class="col-6">
								<section>
									<h3>Base Preview</h3>
								</section>
								<section>
									<div class="canvas-container">
										<canvas id="base_canvas"></canvas>
								</div>
								</section>
							</div>
							<div class="col-6">
								<section>
									<h3>Parameters</h3>
									<div class="row not_yet_implemented">
										<div class="col-4">
											Shape
										</div>
										<div class="col-8">
											<ul id="base_shape_selection" class="actions small">
												<li><a id="base_circle_button" class="button primary small">Circle</a></li>
												<li><a id="base_square_button" class="button small">Square</a></li>
											</ul>
										</div>
									</div>
									<div class="row row not_yet_implemented">
										<div class="col-4">
											Units
										</div>
										<div class="col-8">
											<ul id="base_unit_selection" class="actions small">
												<li><a  class="button primary small">Inches</a></li>
												<li><a  class="button small">Centimeters</a></li>
											</ul>
										</div>
									</div>
									<div class="row">
										<div class="col-6">
											Diameter (Inches)
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="base_diameter_slider" min="12" max="48" value="24">
										</div>
										<div class="col-3">
											<input type="text" id="base_diameter_slider_value" value="24">
										</div>
									</div>
									<div class="row">
										<div class="col-2">
											Pegs
										</div>
									</div>
									<div class="row">
										<div class="col-9">
											<input type="range" id="base_pegs_slider" min="150" max="720" value="360">
										</div>
										<div class="col-3">
											<input type="text" id="base_pegs_slider_value" value="360">
										</div>
									</div>
								</section>
								<hr>
								<section>
									<h3>Output</h3>
									<ul class="actions fit">
										<li><button onclick="generatePDF()" class="button primary fit">Download Base PDF</button></li>
									</ul>
								</section>
							</div>
						</div>
					</div>
				</div>

				<div id="walkthrough_page" class="page-content" style="display: none;">
					<div class="container">
						<div class="row">
							<div class="col-12">
								<button id="upload-instructions-button" class="button">Click to upload instructions.</button>
								<input type="file" id="upload-instructions-input" accept=".txt" style="display: none;" />
							</div>
						</div>
						<div class="row">
							<div class="col-12">
								<div id="incrementalDrawing">
									<span id="incrementalCurrentStep"></span>
									<canvas class="centerCanvasMedium" id="canvasOutput3"></canvas>
									<div style="height: 30px;">
											<button class="btn btn-warning" style="float: left;" onclick="lastStep();">&lt;&lt; Last Step</button>
											<button class="btn btn-success" style="float: right;" onclick="nextStep();">Next Step &gt;&gt;</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Footer -->
			<footer id="footer">
				<!-- <section></section> -->
			</footer>

			<!-- Copyright -->
			<div id="copyright">
				<ul><li>Created by Lance Lacoste </li><li>Design: <a
							href="https://html5up.net">HTML5 UP</a></li></ul>
			</div>
			<a href="#navPanel" id="navPanelToggle" class="alt">Menu</a>
		</div>

		<script>
      window.onload = function () {
        document.getElementById('loading').style.display = 'none';
      };
    </script>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrollex.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
		<script src="assets/js/nav.js"></script>
		<script src="assets/js/numjs.js"></script>
		<script src="assets/js/cropper.js"></script>
		<script src="assets/js/slider_listener.js"></script>
		<script src="assets/js/button_group_listeners.js"></script>
		<script src="assets/js/base_generator.js"></script>
		<script src="assets/js/image_cropper.js"></script>
		<script src="assets/js/string_art_generator.js"></script>
		<script src="assets/js/instruction_generator.js"></script>
		<script src="assets/js/walkthrough.js"></script>
		<script src="https://kit.fontawesome.com/81b3be42c1.js" crossorigin="anonymous"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
		<script async src="assets/js/opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
	</body>
</html>